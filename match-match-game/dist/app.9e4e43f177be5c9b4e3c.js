(()=>{"use strict";var e={596:(e,t,s)=>{s.r(t)},95:(e,t,s)=>{s.r(t)},76:(e,t,s)=>{s.r(t)},80:(e,t,s)=>{s.r(t)},799:(e,t,s)=>{s.r(t)},850:(e,t,s)=>{s.r(t)},321:(e,t,s)=>{s.r(t)},528:(e,t,s)=>{s.r(t)},612:(e,t,s)=>{s.r(t)},337:(e,t,s)=>{s.r(t)},373:(e,t,s)=>{s.r(t)},752:function(e,t,s){var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function o(e){try{d(n.next(e))}catch(e){a(e)}}function l(e){try{d(n.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,l)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const i=s(54),a=s(186),o=s(101),l=s(59),d=s(0),r=s(10),c=s(229),m=s(366),u=s(69),h=s(359),v=s(859),p=s(529);t.App=class{constructor(e){this.rootElement=e,this.dataBaseIamDarya=new l.DatabaseIamDarya,this.router=new p.Router,this.newRout=new v.NewRout,this.about=new i.About,this.bestScore=new a.BestScore(this.dataBaseIamDarya),this.settings=new r.Settings,this.game=new c.Game(this.dataBaseIamDarya,this.newRout),this.header=new m.Header(this.game,this.router,this.bestScore,this.newRout),this.registration=new h.Registration(this.dataBaseIamDarya,this.game,this.header),this.popUpWin=new u.PopUpWin(this.bestScore,this.newRout),this.cover=new o.Cover,this.footer=new d.Footer}start(){return n(this,void 0,void 0,(function*(){yield this.dataBaseIamDarya.load(),this.rootElement.appendChild(this.header.element),this.rootElement.appendChild(this.game.element),this.rootElement.appendChild(this.about.element),this.rootElement.appendChild(this.bestScore.element),this.rootElement.appendChild(this.settings.element),this.rootElement.appendChild(this.registration.element),this.rootElement.appendChild(this.popUpWin.element),this.rootElement.appendChild(this.cover.element),this.rootElement.appendChild(this.footer.element),this.newRout.add("about-game",(()=>{var e,t,s;this.game.hide(),null===(e=document.getElementById("about"))||void 0===e||e.classList.add("active"),this.about.show(),null===(t=document.getElementById("best-score"))||void 0===t||t.classList.remove("active"),this.bestScore.hide(),null===(s=document.getElementById("game-setting"))||void 0===s||s.classList.remove("active"),this.settings.hide()})),this.newRout.add("",(()=>{var e,t,s;this.game.hide(),null===(e=document.getElementById("about"))||void 0===e||e.classList.add("active"),this.about.show(),null===(t=document.getElementById("best-score"))||void 0===t||t.classList.remove("active"),this.bestScore.hide(),null===(s=document.getElementById("game-setting"))||void 0===s||s.classList.remove("active"),this.settings.hide()})),this.newRout.add("best-score",(()=>{var e,t,s;this.game.hide(),null===(e=document.getElementById("best-score"))||void 0===e||e.classList.add("active"),this.bestScore.show(),this.bestScore.bestScoreShow(),null===(t=document.getElementById("about"))||void 0===t||t.classList.remove("active"),this.about.hide(),null===(s=document.getElementById("game-setting"))||void 0===s||s.classList.remove("active"),this.settings.hide()})),this.newRout.add("game-setting",(()=>{var e,t,s;this.game.hide(),null===(e=document.getElementById("game-setting"))||void 0===e||e.classList.add("active"),this.settings.show(),null===(t=document.getElementById("best-score"))||void 0===t||t.classList.remove("active"),this.bestScore.hide(),null===(s=document.getElementById("about"))||void 0===s||s.classList.remove("active"),this.about.hide()}))}))}}},54:function(e,t,s){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.About=void 0,s(596);const i=s(583),a=n(s(482)),o=n(s(221)),l=n(s(569));class d extends i.BaseComponent{constructor(){super("div",["app","about","hidden"]),this.element.innerHTML=`\n    <div class="how-to-play">\n    <h2>How to play?</h2>\n    <ul class="how-to-play-ul">\n      <li class="how-to-play-li">1.Register a new player in the game. <img src="${a.default}" alt=""></li>\n      <li class="how-to-play-li">2.Select your game settings.<img src="${o.default}" alt=""></li>\n      <li class="how-to-play-li">3.Start your new game! You have 10 seconds to memorize the positions of cards before they turn over and match them as quickly as possible.\n      <img src="${l.default}" alt=""></li>\n    </ul>`}}t.About=d},89:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0,t.User=class{constructor(e,t,s,n,i){this.email=e,this.fName=t,this.sName=s,this.score=n,this.image=i}}},583:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}show(){this.element.classList.remove("hidden")}hide(){this.element.classList.add("hidden")}}},186:function(e,t,s){var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function o(e){try{d(n.next(e))}catch(e){a(e)}}function l(e){try{d(n.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,l)}d((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BestScore=void 0,s(95);const a=s(583),o=i(s(629));class l extends a.BaseComponent{constructor(e){super("div",["app","best-score","hidden"]),this.databaseIamDarya=e}bestScoreShow(){return n(this,void 0,void 0,(function*(){const e=(yield this.databaseIamDarya.getAllUsers()).sort(((e,t)=>t.score-e.score));this.element.innerHTML='\n    <h2>Best players</h2>\n    <ul class="list-of-users">\n\n    </ul>';for(let t=0;t<e.length&&t<10;t++){const s=document.createElement("li");this.element.getElementsByClassName("list-of-users")[0].appendChild(s);const n=document.createElement("img");void 0!==e[t].image?(n.setAttribute("src",`${e[t].image}`),s.appendChild(n)):(n.setAttribute("src",`${o.default}`),s.appendChild(n));const i=document.createElement("p");i.innerHTML=`${e[t].fName} ${e[t].sName}`,s.appendChild(i);const a=document.createElement("p");a.innerHTML=`${e[t].score}`,s.appendChild(a).setAttribute("style","justify-self: right;");const l=document.createElement("p");l.innerHTML=`${e[t].email}`,s.appendChild(l)}}))}}t.BestScore=l},977:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0,s(76);const n=s(583);class i extends n.BaseComponent{constructor(e){super("div",["card-container"]),this.image=e,this.isFlipped=!1,this.element.innerHTML=`\n      <div class="card">\n        <div class="card__front" style = "background-image: url('images/${e}')"></div>\n        <div class="card__back"></div>\n      </div>`}flipToBack(){return this.isFlipped=!0,this.flip(!0)}flipToFront(){return this.isFlipped=!1,this.flip()}flip(e=!1){return new Promise((t=>{this.element.classList.toggle("flipped",e),this.element.addEventListener("transitionend",(()=>t()),{once:!0})}))}}t.Card=i},610:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0,s(80);const n=s(583);class i extends n.BaseComponent{constructor(){super("div",["cards-field"]),this.cards=[]}clear(){this.cards=[],this.element.innerHTML='\n    <div class="stopwatch">00:00:00</div>\n    '}checkCards(){for(let e=0;e<this.cards.length;e++)if(this.cards[e].isFlipped)return!1;return clearInterval(this.timer),!0}addCards(e){this.cards=e,this.cards.forEach((e=>this.element.appendChild(e.element))),clearTimeout(this.showTime),this.showTime=setTimeout((()=>{this.cards.forEach((e=>e.flipToBack()))}),1e4);const t=document.getElementsByClassName("stopwatch")[0];let s=0;clearInterval(this.timer),this.timer=setInterval((()=>{s+=10;const e=new Date(s);t.innerHTML=`${`0${e.getUTCHours()}`.slice(-2)}:${`0${e.getUTCMinutes()}`.slice(-2)}:${`0${e.getUTCSeconds()}`.slice(-2)}`}),10)}}t.CardsField=i},101:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Cover=void 0,s(799);const n=s(583);class i extends n.BaseComponent{constructor(){super("div",["cover","hidden"])}}t.Cover=i},59:function(e,t){var s=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function o(e){try{d(n.next(e))}catch(e){a(e)}}function l(e){try{d(n.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,l)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseIamDarya=void 0,t.DatabaseIamDarya=class{load(){return s(this,void 0,void 0,(function*(){return new Promise((e=>{this.request=window.indexedDB.open("IamDarya",2),this.request.onsuccess=t=>{const s=t.target;this.db=s.result,e()},this.request.onupgradeneeded=t=>{const s=t.target;this.db=s.result,this.db.createObjectStore("users",{keyPath:"email"}),e()}}))}))}transaction(e){return s(this,void 0,void 0,(function*(){return new Promise(((t,s)=>{var n;const i=null===(n=this.db)||void 0===n?void 0:n.transaction("users","readwrite"),a=null==i?void 0:i.objectStore("users"),o=null==a?void 0:a.add(e);o.onsuccess=function(){t()},o.onerror=function(){s()}}))}))}getUser(e){return s(this,void 0,void 0,(function*(){return new Promise(((t,s)=>{const n=this.db.transaction("users","readwrite").objectStore("users").get(e);n.onsuccess=function(){t(n.result)},n.onerror=function(){s(n.error)}}))}))}update(e){return s(this,void 0,void 0,(function*(){return new Promise(((t,s)=>{const n=this.db.transaction("users","readwrite").objectStore("users").put(e);n.onsuccess=function(){t()},n.onerror=function(){s()}}))}))}getAllUsers(){return s(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{const s=this.db.transaction("users","readwrite").objectStore("users").getAll();s.onsuccess=function(){e(s.result)},s.onerror=function(){t(s.error)}}))}))}}},0:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0,s(850);const n=s(583);class i extends n.BaseComponent{constructor(){super("footer",["footer"]),this.element.innerHTML="RS School 2021 Q1"}}t.Footer=i},10:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0,s(321);const n=s(583);class i extends n.BaseComponent{constructor(){super("div",["app","game-setting","hidden"]),this.element.innerHTML='\n    <h2>Game settings</h2>\n    <div class="settings">\n    <form>\n      <span class="title">Game cards</span>\n         <div class="select-cards">\n            <select id="select-cards">\n              <option selected="selected" value="select">Select game cards type</option>\n              <option value="food">Food</option>\n              <option value="animals">Animals</option>\n              <option value="art">Art</option>\n            </select>\n          </div>\n   </form>\n   <form>\n   <span class="title">Difficulty</span>\n      <div class="difficulty">\n         <select id="difficulty">\n           <option selected="selected" value="select">Select game type</option>\n           <option value="piece-of-cake">Piece of Cake</option>\n           <option value="normal">Normal</option>\n           <option value="nightmare">Nightmare!</option>\n         </select>\n       </div>\n       </div>\n</form>'}}t.Settings=i},229:function(e,t,s){var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function o(e){try{d(n.next(e))}catch(e){a(e)}}function l(e){try{d(n.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,l)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const i=s(680),a=s(583),o=s(977),l=s(610);let d=0,r=0,c=0;class m extends a.BaseComponent{constructor(e,t){super(),this.isAnimation=!1,this.newRout=t,this.cardsField=new l.CardsField,this.dataBaseIamDarya=e,this.element.appendChild(this.cardsField.element),this.element.classList.add("app"),this.element.classList.add("main"),this.element.classList.add("hidden")}newGame(e){var t,s,n;this.actiiveCard=void 0,this.newRout.cleanHref(),this.isAnimation=!1,this.element.classList.remove("hidden"),document.getElementsByClassName("about")[0].classList.add("hidden"),document.getElementsByClassName("game-setting")[0].classList.add("hidden"),document.getElementsByClassName("best-score")[0].classList.add("hidden"),null===(t=document.getElementById("game-setting"))||void 0===t||t.classList.remove("active"),null===(s=document.getElementById("best-score"))||void 0===s||s.classList.remove("active"),null===(n=document.getElementById("about"))||void 0===n||n.classList.remove("active"),document.getElementsByClassName("start-game-btn")[0].classList.add("hidden"),document.getElementsByClassName("stop-game-btn")[0].classList.remove("hidden"),this.cardsField.clear();const i=document.getElementById("difficulty"),a=i.options[i.selectedIndex].value;"select"!==a&&"piece-of-cake"!==a||(e.splice(0,5),document.getElementsByClassName("cards-field")[0].setAttribute("style","width:57%;")),"normal"===a&&(e.splice(0,3),document.getElementsByClassName("cards-field")[0].setAttribute("style","width:57%;")),"nightmare"===a&&document.getElementsByClassName("cards-field")[0].setAttribute("style","width:84%;");const l=e.concat(e).map((e=>new o.Card(e))).sort((()=>Math.random()-.5));l.forEach((e=>{e.element.addEventListener("click",(()=>this.cardHandler(e)))})),this.cardsField.addCards(l)}cardHandler(e){return n(this,void 0,void 0,(function*(){if(!this.isAnimation&&e.isFlipped){if(this.isAnimation=!0,yield e.flipToFront(),!this.actiiveCard)return d++,this.actiiveCard=e,void(this.isAnimation=!1);if(this.actiiveCard.image!==e.image?(r++,this.actiiveCard.element.classList.add("wrong_card"),e.element.classList.add("wrong_card"),yield i.delay(3e3),yield Promise.all([this.actiiveCard.flipToBack(),e.flipToBack()])):(this.actiiveCard.element.classList.remove("wrong_card"),e.element.classList.remove("wrong_card"),this.actiiveCard.element.classList.add("same_card"),e.element.classList.add("same_card")),this.actiiveCard=void 0,this.isAnimation=!1,this.cardsField.checkCards()){const e=document.getElementsByClassName("stopwatch")[0].textContent,t=60,s=(e,t)=>e+t,n=e.split(":").map((e=>parseInt(e,10)));n[1]*=t,n[0]=n[0]*t*t;const i=n.reduce(s);c=100*(d-r)-10*i,c<0&&(c=1),this.activeUser.score=c,yield this.dataBaseIamDarya.update(this.activeUser),document.getElementsByClassName("cover")[0].classList.remove("hidden"),document.getElementsByClassName("pop-up-win")[0].classList.remove("hidden"),document.getElementsByClassName("pop-up-win-h2")[0].innerHTML=`\n      Congratulations! You successfully found all matches in ${e} minutes.\n      Your score is ${c}! Great result.`,d=0,r=0,c=0}}}))}}t.Game=m},366:function(e,t,s){var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function o(e){try{d(n.next(e))}catch(e){a(e)}}function l(e){try{d(n.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,l)}d((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,s(528);const a=s(583),o=i(s(629));class l extends a.BaseComponent{constructor(e,t,s,i){super("header",["header"]),this.newRout=i,this.bestScore=s,this.element.innerHTML='\n  <header id="header">\n    <div class="logo"><div class="logo-pic"></div><p>Match<br>Match<br>Game</p>\n    </div>\n    <div>\n      <ul class="header-list">\n        <li><button type="button" id="about" class="btn about-btn active">About Game</button></li>\n        <li><button type="button" id="best-score" class="btn best-score-btn">Best Score</button></li>\n        <li><button type="button" id="game-setting" class="btn game-setting-btn">Game Setting</button></li>\n      </ul>\n    </div>\n    <div class="btn-and-prof-pic">\n    <img class="pic-user">\n      <button type="button" class="regictration-btn btn">Register New Player</button>\n      <button type="button" class="start-game-btn btn hidden">Start Game</button>\n      <button type="button" id="stop-game-btn" class="stop-game-btn btn hidden">Stop Game</button>\n    </div>\n  </header>',this.router=t,this.game=e;const a=this.element.getElementsByClassName("header-list")[0],o=this.element.getElementsByClassName("regictration-btn")[0],l=this.element.getElementsByClassName("start-game-btn")[0],d=this.element.getElementsByClassName("stop-game-btn")[0];function r(e){var t,n,a;const r=e.target;"stop-game-btn"===r.id&&(document.getElementsByClassName("main")[0].classList.add("hidden"),null===(t=document.getElementById("about"))||void 0===t||t.classList.add("active"),document.getElementsByClassName("about")[0].classList.remove("hidden"),null===(n=document.getElementById("best-score"))||void 0===n||n.classList.remove("active"),document.getElementsByClassName("best-score")[0].classList.add("hidden"),null===(a=document.getElementById("game-setting"))||void 0===a||a.classList.remove("active"),document.getElementsByClassName("game-setting")[0].classList.add("hidden"),d.classList.add("hidden"),l.classList.remove("hidden")),"about"===r.id&&(i.navigate("about-game"),d.classList.add("hidden"),o.classList.contains("hidden")&&l.classList.remove("hidden")),"best-score"===r.id&&(i.navigate("best-score"),d.classList.add("hidden"),s.bestScoreShow(),o.classList.contains("hidden")&&l.classList.remove("hidden")),"game-setting"===r.id&&(i.navigate("game-setting"),d.classList.add("hidden"),o.classList.contains("hidden")&&l.classList.remove("hidden"))}null==a||a.addEventListener("click",r),o.addEventListener("click",(function(){var e;null===(e=document.getElementById("app"))||void 0===e||e.classList.toggle("blured"),o.classList.toggle("active"),document.getElementsByClassName("registration")[0].classList.toggle("hidden"),document.getElementsByClassName("cover")[0].classList.toggle("hidden")})),d.addEventListener("click",r),l.addEventListener("click",(()=>n(this,void 0,void 0,(function*(){const e=document.getElementById("select-cards"),t=e.options[e.selectedIndex].value;let s=yield fetch("./food.json");"animals"===t&&(s=yield fetch("./animals.json")),"art"===t&&(s=yield fetch("./art.json"));const n=(yield s.json())[0],i=n.images.map((e=>`${n.category}/${e}`));this.game.newGame(i)}))))}addProfPic(){this.game.activeUser&&this.game.activeUser.image?document.getElementsByClassName("pic-user")[0].setAttribute("src",`${this.game.activeUser.image}`):document.getElementsByClassName("pic-user")[0].setAttribute("src",`${o.default}`)}}t.Header=l},69:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PopUpWin=void 0,s(612);const n=s(583);class i extends n.BaseComponent{constructor(e,t){super("div",["pop-up-win","hidden"]),this.newRout=t,this.bestScore=e,this.element.innerHTML='\n    <h2 class="pop-up-win-h2"></h2>\n    <div class="forms">\n        <button class="btn btn-ok" type="button">OK!</button>\n    </div>\n    ',this.element.getElementsByClassName("btn-ok")[0].addEventListener("click",(function(){t.navigate("best-score"),e.bestScoreShow(),document.getElementsByClassName("cover")[0].classList.add("hidden"),document.getElementsByClassName("pop-up-win")[0].classList.add("hidden"),document.getElementsByClassName("start-game-btn")[0].classList.remove("hidden"),document.getElementsByClassName("stop-game-btn")[0].classList.add("hidden")}))}}t.PopUpWin=i},359:function(e,t,s){var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function o(e){try{d(n.next(e))}catch(e){a(e)}}function l(e){try{d(n.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,l)}d((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Registration=void 0,s(337);const a=s(583),o=s(89),l=i(s(629));class d extends a.BaseComponent{constructor(e,t,s){super("div",["registration","hidden"]),this.game=t,this.database=e,this.header=s,this.element.innerHTML=`\n    <h2 class="regist-h2">Register new player</h2>\n    <div class="forms">\n    <div class="profile-pic">\n        <div id="list">\n        <span class="pic-box">\n        <img class="thumb" src="${l.default}">\n        </span>\n        </div>\n        <input type="file" class="files" id="files">\n        <p>Profile picture. Selecting big images (&gt; 2MB) can crash your browser.</p>\n    </div>\n      <form action class="contact-form">\n      <label class="contact-form__label" for="firstName" >First name</label>\n      <input type="text" pattern="^(?![0-9]*$)[&bsol;p{L}0-9&bsol;s]+$" class="contact-form__input first-name"\n      maxlength=30 placeholder="First name" required>\n      <label class="contact-form__label" for="lastName" placeholder="Last name">Last name</label>\n      <input type="text" pattern="^(?![0-9]*$)[&bsol;p{L}0-9&bsol;s]+$" class="contact-form__input last-name"\n      maxlength=30 placeholder="Last name" required>\n      <label class="contact-form__label" for="email" placeholder="email">email</label>\n      <input type="email" class="contact-form__input email" maxlength=30 placeholder="your@email.com" required>\n      <button class="btn btn-add-user validate unactive_btn" type="submit">ADD USER</button>\n      <button class="btn btn-cansel" type="button">CANCEL</button>\n  </div>\n    `,this.element.getElementsByClassName("files")[0].addEventListener("change",(e=>this.handleFileSelect(e)),!1);const i=this.element.getElementsByClassName("btn-cansel")[0],a=this.element.getElementsByClassName("first-name")[0],d=this.element.getElementsByClassName("last-name")[0],r=this.element.getElementsByClassName("email")[0],c=this.element.getElementsByClassName("validate")[0];let m=!1;const u=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,h=()=>{a.validity.valid&&d.validity.valid&&m?null==c||c.classList.remove("unactive_btn"):null==c||c.classList.add("unactive_btn")};function v(e){e.classList.remove("not-validated-input"),e.classList.add("validated-input")}function p(e){e.classList.add("not-validated-input"),e.classList.remove("validated-input")}a.addEventListener("input",(()=>{a.validity.valid?v(a):p(a),h()})),d.addEventListener("input",(()=>{d.validity.valid?v(d):p(d),h()})),r.addEventListener("input",(()=>{r.value.match(u)?(v(r),m=!0,h()):(m=!1,p(r),h())})),null==i||i.addEventListener("click",(function(){var e;null===(e=document.getElementById("app"))||void 0===e||e.classList.toggle("blured"),document.getElementsByClassName("registration")[0].classList.toggle("hidden"),document.getElementsByClassName("cover")[0].classList.toggle("hidden"),document.getElementsByClassName("regictration-btn")[0].classList.toggle("active"),a.classList.remove("not-validated-input"),a.classList.remove("validated-input"),d.classList.remove("not-validated-input"),d.classList.remove("validated-input"),r.classList.remove("not-validated-input"),r.classList.remove("validated-input"),a.value="",d.value="",r.value="",document.getElementsByClassName("thumb")[0].src=`${l.default}`})),c.addEventListener("click",(i=>n(this,void 0,void 0,(function*(){if(c.classList.contains("unactive_btn"))return;i.preventDefault();const n=new o.User(r.value,a.value,d.value,0,this.avatar);void 0===(yield e.getUser(r.value))&&(yield e.transaction(n)),t.activeUser=n,setTimeout((()=>{alert(`Hello ${a.value}, let's play a game!`)}),500),document.getElementsByClassName("cover")[0].classList.toggle("hidden"),document.getElementsByClassName("registration")[0].classList.toggle("hidden"),document.getElementsByClassName("regictration-btn")[0].classList.add("hidden"),document.getElementsByClassName("start-game-btn")[0].classList.remove("hidden"),s.addProfPic()}))))}static displayImgData(e){document.getElementsByClassName("thumb")[0].src=`${e}`,document.getElementById("list").insertBefore(document.getElementsByClassName("pic-box")[0],null)}handleFileSelect(e){const t=e.target,{files:s}=t;if(!s[0].type.match("image.*"))return void alert("Please select an image file!");const n=new FileReader;n.onload=e=>{var t,s;d.displayImgData(null===(t=e.target)||void 0===t?void 0:t.result),this.avatar=null===(s=e.target)||void 0===s?void 0:s.result},n.readAsDataURL(s[0])}}t.Registration=d},859:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NewRout=void 0;class s{constructor(){this.routes=[],this.root="/",this.current=this.root,this.listenForChanges()}add(e,t){return this.routes.push({path:e,cb:t}),this}static clearSlashes(e){return e.toString().replace(/\/$/,"").replace(/^\//,"")}static getfragment(){let e="";const t=window.location.href.match(/#(.*)$/);return e=t?t[1]:"",s.clearSlashes(e)}navigate(e=""){return window.location.href=`${window.location.href.replace(/#(.*)$/,"")}#${e}`,this}listenForChanges(){setInterval((()=>this.interval()),50)}interval(){this.current!==s.getfragment()&&(this.current=s.getfragment(),this.routes.some((e=>{const t=this.current===e.path;return!!t&&(e.cb.apply({}),t)})))}cleanHref(){this.navigate(""),this.current=""}}t.NewRout=s},529:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;class s{constructor(){this.routes=[],this.root="/",this.routes=["/about-game","/best-score","/game-setting","/game","/registration","/win"]}static start(){s.newPage(window.location.pathname),window.addEventListener("popstate",(()=>{s.newPage(window.location.pathname)}))}static newPage(e){var t,s,n,i,a,o,l,d,r;"/about-game"!==e&&"/"!==e||(document.getElementsByClassName("main")[0].classList.add("hidden"),null===(t=document.getElementById("about"))||void 0===t||t.classList.add("active"),document.getElementsByClassName("about")[0].classList.remove("hidden"),null===(s=document.getElementById("best-score"))||void 0===s||s.classList.remove("active"),document.getElementsByClassName("best-score")[0].classList.add("hidden"),null===(n=document.getElementById("game-setting"))||void 0===n||n.classList.remove("active"),document.getElementsByClassName("game-setting")[0].classList.add("hidden")),"/best-score"===e&&(document.getElementsByClassName("main")[0].classList.add("hidden"),null===(i=document.getElementById("best-score"))||void 0===i||i.classList.add("active"),document.getElementsByClassName("best-score")[0].classList.remove("hidden"),null===(a=document.getElementById("about"))||void 0===a||a.classList.remove("active"),document.getElementsByClassName("about")[0].classList.add("hidden"),null===(o=document.getElementById("game-setting"))||void 0===o||o.classList.remove("active"),document.getElementsByClassName("game-setting")[0].classList.add("hidden")),"/game-setting"===e&&(document.getElementsByClassName("main")[0].classList.add("hidden"),null===(l=document.getElementById("game-setting"))||void 0===l||l.classList.add("active"),document.getElementsByClassName("game-setting")[0].classList.remove("hidden"),null===(d=document.getElementById("best-score"))||void 0===d||d.classList.remove("active"),document.getElementsByClassName("best-score")[0].classList.add("hidden"),null===(r=document.getElementById("about"))||void 0===r||r.classList.remove("active"),document.getElementsByClassName("about")[0].classList.add("hidden"))}}t.Router=s},680:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout(t,e)}))}},482:(e,t,s)=>{e.exports=s.p+"assets/ab7fa81dd786b48a2bb1.jpg"},569:(e,t,s)=>{e.exports=s.p+"assets/61ea84e3d2f722541a19.jpg"},629:(e,t,s)=>{e.exports=s.p+"assets/8859386d2c962760abb3.png"},221:(e,t,s)=>{e.exports=s.p+"assets/cd5926b801a53f0e5f92.png"}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,s),a.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{s(373);const e=s(752);window.onload=()=>{const t=document.getElementById("app");if(!t)throw Error("App root element not found");new e.App(t).start()}})()})();